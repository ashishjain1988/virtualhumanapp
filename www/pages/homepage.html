<!DOCTYPE html>
<html>
    <head>
        <title>Virtual Human App - Homepage</title>

        <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-touch-fullscreen" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style"  content="black-translucent" >
        <meta name="format-detection" content="telephone=no">

        <!-- 1. Load platform support before any code that touches the DOM. -->
        <script>
            if (!('import' in document.createElement('link'))) {
                var Platform = {flags: {shadow: true}};
            }
        </script>
        <script src="../bower_components/webcomponentsjs/webcomponents.min.js"></script>
        <!-- 2. Load the component using an HTML Import -->

        <link href="../bower_components/core-icons/core-icons.html" rel="import" />
        <link href="../bower_components/core-icon-button/core-icon-button.html" rel="import" />
        <link href="../bower_components/core-toolbar/core-toolbar.html" rel="import" />
        <link href="../bower_components/core-animated-pages/core-animated-pages.html" rel="import" />
        <link rel="import" href="../bower_components/paper-elements/paper-elements.html">

        <link rel="stylesheet" href="../styles/homepage.css">

        <meta name="application-name" content="Virtual Human App">
    </head>
    <body unresolved fullbleed vertical layout>
    <template is="auto-binding">
        <core-toolbar class="toolbar">
            <core-icon-button icon="{{$.pages.selected != 0 ? 'arrow-back' : '-'}}" on-tap="{{back}}"></core-icon-button>
            <div flex>Virtual Human App</div>
        </core-toolbar>
        <core-animated-pages id="pages" flex selected="0" on-core-animated-pages-transition-end="{{transitionend}}" transitions="cross-fade-all hero-transition">

            <section vertical layout>

                <div id="container" on-tap="{{tapAction}}" flex horizontal wrap around-justified layout hero-p>
                    <paper-shadow z="0" animated>
                        <div class="card" vertical center center-justified layout><span cross-fade><core-icon class="buttonicon" icon="face-unlock"></core-icon><br/>Profile</span></div></paper-shadow>
                    <paper-shadow z="0" animated><div class="card" vertical center center-justified layout><span cross-fade><core-icon class="buttonicon" icon="report-problem"></core-icon><br/>Health Issues</span></div></paper-shadow>
                    <paper-shadow z="0" animated><div class="card" vertical center center-justified layout><span cross-fade><core-icon class="buttonicon" icon="accessibility"></core-icon><br/>Human Body</span></div></paper-shadow>
                    <paper-shadow z="0" animated><div class="card" vertical center center-justified layout><span cross-fade><core-icon class="buttonicon" icon="assignment"></core-icon><br/>Test Results</span></div></paper-shadow>
                    <paper-shadow z="0" animated><div class="card" vertical center center-justified layout><span cross-fade><core-icon class="buttonicon" icon="account-child"></core-icon><br/>Create Groups</span></div></paper-shadow>
                    <paper-shadow z="0" animated><div class="card" vertical center center-justified layout><span cross-fade><core-icon class="buttonicon" icon="cached"></core-icon><br/>Compare with Groups</span></div></paper-shadow>
                    <paper-shadow z="0" animated><div class="card" vertical center center-justified layout><span cross-fade><core-icon class="buttonicon" icon="assessment"></core-icon><br/>Charts</span></div></paper-shadow>
                </div>
            </section>

        </core-animated-pages>
    </template>

    <script>

//            addEventListener('template-bound', function (e) {
//                var scope = e.target;
//                var items = [], count = 50;
//                for (var i = 0; i < count; i++) {
//                    items.push(i);
//                }
//
//                scope.items = items;
//
//                scope.selectView = function (e) {
//                    var i = e.target.templateInstance.model.item;
//                    this.$.pages.selected = i + 1;
//                }
//
//                scope.back = function () {
//                    this.lastSelected = this.$.pages.selected;
//                    console.log(this.lastSelected);
//                    this.$.pages.selected = 0;
//                }
//
//                scope.transitionend = function () {
//                    if (this.lastSelected) {
//                        this.lastSelected = null;
//                    }
//                }
//            })

    </script>
    <script>
        var scope = document.querySelector('template[is=auto-binding]');
        console.log(scope);

        scope.tapAction = function (e) {
            var target = e.target;
            if (!target.down) {
                target.setZ(target.z + 1);
                if (target.z === 1) {
                    target.down = true;
                }
            } else {
                target.setZ(target.z - 1);
                if (target.z === 0) {
                    target.down = false;
                }
            }
        };
    </script>



</body>
</html>
